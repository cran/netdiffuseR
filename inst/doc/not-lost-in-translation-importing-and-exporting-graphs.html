<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="George G. Vega Yon" />

<meta name="date" content="2016-01-13" />

<title>Not-Lost in translation: Getting diffusion data into netdiffuseR</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Not-Lost in translation: Getting diffusion
data into netdiffuseR</h1>
<h4 class="author">George G. Vega Yon</h4>
<h4 class="date">January 13, 2016</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<ul>
<li>More often that liked, one of the biggest barriers for people to use
R is getting the data into it.</li>
<li>For this tutorial, we classify graph data as follows:
<ul>
<li>Raw R network data: Datasets with edgelist, attributes, survey data,
etc.</li>
<li>Already R data: already read into R using igraph, statnet, etc.</li>
<li>Graph files: DL, UCINET, pajek, etc.</li>
</ul></li>
<li>The <strong>netdiffuseR</strong> package includes several options to
read such data.</li>
<li>This tutorial shows how to use those options (functions) so that the
user generates <code>diffnet</code> objects (the core of
netdiffuseR).</li>
<li>Importantly, while very useful, <code>diffnet</code> objects is not
the only way to use <strong>netdiffuseR</strong>. Most of the functions
can also be used with matrices and arrays.</li>
</ul>
</div>
<div id="raw-network-data" class="section level1">
<h1>Raw network data</h1>
<ul>
<li><p>We call raw network data to datasets that have a somewhat raw
form, for example, edgelists, adjacency matrices, survey nomination
data, etc. and need to be read into R.</p></li>
<li><p>Usually this datasets are acompained with vertex attribute
data.</p></li>
<li><p>The issue is how to read it into R and handle it
altogether.</p></li>
<li><p>Before start, we recommend the user to take a look at the
<em>Data input</em> functions included in the <code>utils</code> package
(see <code>?read.table</code>), to the functions included in the
<code>foreign</code> package (useful to read from Stata, SPSS, etc.),
and to the <code>read_excel</code> function in the <code>readxl</code>
package<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>
for reading excel files into R.</p></li>
</ul>
<div id="edge-lists" class="section level2">
<h2>Edge lists</h2>
<ul>
<li>In this section we review the function
<code>edgelist_to_adjmat</code></li>
<li>In general terms, an edgelist is a two column matrix or data frame
in which each row represents a tie/link from one node to another.</li>
<li>While the basic structure of edgelists only requires having two
columns (usually named ego and alter), edgelists can have more
information such as intensity/weight/value of the tie, or a
spell/timestamp indicating the time range during which the tie
exists.</li>
<li>The function <code>edgelist_to_adjmat</code> supports both weights
and spells.</li>
</ul>
<div id="example-1-loading-a-static-diffusion-network-via-as_diffnet" class="section level3">
<h3>Example 1: Loading a static diffusion network via
<code>as_diffnet</code></h3>
<p>For this example we will use the <code>fakesurvey</code> and
<code>fakeEdgelist</code> datasets. The later was been generated using
the <code>fakesurvey</code> dataset, which holds survey information
retrieved from 10 different individuals in two different groups. Ties in
the <code>fakeEdgelist</code> dataset are valued, and its value
coincides with the number of nominatios that each individual in the
survey did to each other.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading the datasets</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;fakesurvey&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;fakeEdgelist&quot;</span>)</span></code></pre></div>
<p>Taking a look at <code>fakesurvey</code>’s <code>group</code> and
<code>id</code> column and <code>fakeEdgelist</code>’s <code>ego</code>
and <code>alter</code> columns the user can tell that the laters have
been generated by adding up <code>group*100</code> with
<code>id</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fakesurvey[,<span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;group&quot;</span>)])</span></code></pre></div>
<pre><code>#   id group
# 1  1     1
# 2  2     1
# 3  3     1
# 4  4     1
# 5  5     1
# 6  1     2</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fakeEdgelist)</span></code></pre></div>
<pre><code>#   ego alter value
# 1 102   101     1
# 2 103   102     1
# 3 102   103     1
# 4 105   103     1
# 5 105   104     2
# 6 104   105     1</code></pre>
<p>We will use this information later on to verify the way the data is
sorted in the resulting <code>diffnet</code> objects.</p>
<p>To use the <code>as_diffnet</code> function we need at least two
objects: a <strong>dynamic graph</strong> represented as either an array
or a list of adjacency matrices, each of size <span class="math inline">\(n\times n\)</span>, which in our case will be
<span class="math inline">\(10\times 10\)</span>, and an integer vector
of size <span class="math inline">\(n=10\)</span> which holds each
vertex’s <strong>time of adoption</strong>. Lets start by generating the
dynamic graph using th <code>edgelist_to_adjmat</code> function:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coercing the edgelist to an adjacency matrix</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>adjmat  <span class="ot">&lt;-</span> <span class="fu">edgelist_to_adjmat</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">edgelist   =</span> fakeEdgelist[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="co"># Should be a two column matrix/data.frame</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">w          =</span> fakeEdgelist<span class="sc">$</span>value, <span class="co"># An optional vector with weights</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">undirected =</span> <span class="cn">FALSE</span>,              <span class="co"># In this case, the edgelist is directed</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">t          =</span> <span class="dv">5</span>)                  <span class="co"># We use this option to make 5 replicas of it</span></span></code></pre></div>
<pre><code># Warning in edgelist_to_adjmat.matrix(as.matrix(edgelist), w, t0, t1, t, : Some edges a had NA/NULL value on either -times- or -w-:
#   11
# These won&#39;t be included in the adjacency matrix. The complete list will be stored as an attribute of the resulting adjacency matrix, namely, -incomplete-.</code></pre>
<p>As the function warns, there is an edge that had incomplete
information, and further was not used to create the adjacency matrix,
the edge 11. If we take a look at that edge, we will see that indeed it
had incomplete information on the weight attribute:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fakeEdgelist[<span class="dv">11</span>,,drop<span class="ot">=</span><span class="cn">FALSE</span>]</span></code></pre></div>
<pre><code>#    ego alter value
# 11 202  &lt;NA&gt;    NA</code></pre>
<p>In order to address this, if we want to keep the vertex 202, an
isolated vertex in the data, we need to fill that value up so that when
creating the diffnet object we won’t have any problem having more
attributes or times of adoption that vertices in the graph.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filling the empty data, and checking the outcome</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>fakeEdgelist[<span class="dv">11</span>,<span class="st">&quot;value&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>fakeEdgelist[<span class="dv">11</span>,,drop<span class="ot">=</span><span class="cn">FALSE</span>]</span></code></pre></div>
<pre><code>#    ego alter value
# 11 202  &lt;NA&gt;     1</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coercing the edgelist to an adjacency matrix (again)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>adjmat  <span class="ot">&lt;-</span> <span class="fu">edgelist_to_adjmat</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">edgelist   =</span> fakeEdgelist[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="co"># Should be a two column matrix/data.frame</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">w          =</span> fakeEdgelist<span class="sc">$</span>value, <span class="co"># An optional vector with weights</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">undirected =</span> <span class="cn">FALSE</span>,              <span class="co"># In this case, the edgelist is directed</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">keep.isolates =</span> <span class="cn">TRUE</span>,            <span class="co"># </span><span class="al">NOTICE</span><span class="co"> THIS NEW ARGUMENT!</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">t          =</span> <span class="dv">5</span>)                  <span class="co"># We use this option to make 5 replicas of it</span></span></code></pre></div>
<p>As expected, there is no warning. Furthermore, we have told the
function that in case of having isolated vertices to keep them, as is in
the case of the edge #11 which has the vertex 202. Since we asked the
function to create 5 copies of the adjacency matrix, we have a list of
length 5 with adjacency matrices. Lets take a look at the first element
of this list:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>adjmat[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code># 9 x 9 sparse Matrix of class &quot;dgCMatrix&quot;
#     101 102 103 104 105 201 202 205 210
# 101   .   .   .   .   .   .   .   .   .
# 102   1   .   1   .   .   .   .   .   .
# 103   .   1   .   .   .   .   .   .   .
# 104   .   .   .   .   1   .   .   .   .
# 105   .   .   1   2   .   .   .   .   .
# 201   .   .   .   .   .   .   .   .   .
# 202   .   .   .   .   .   .   .   .   .
# 205   .   .   .   .   .   1   .   .   1
# 210   .   .   .   .   .   1   .   1   .</code></pre>
<p>As you can see, the <code>edgelist_to_adjmat</code> function kept the
vertices labels and included them as dimnames in the matrix.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> Now that
our adjacency matrix has the number of elements that we expected, which
actually coincides with the number of rows in the
<code>fakesurvey</code> dataset, we can create a <code>diffnet</code>
object:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coercing the adjacency matrix and edgelist into a diffnet object</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>diffnet <span class="ot">&lt;-</span> <span class="fu">as_diffnet</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">graph               =</span> adjmat,         <span class="co"># Passing a dynamic graph</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">toa                 =</span> fakesurvey<span class="sc">$</span>toa, <span class="co"># This is required</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.static.attrs =</span> fakesurvey      <span class="co"># Is is optional</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Taking a look at the diffnet object</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>diffnet</span></code></pre></div>
<pre><code># Dynamic network of class -diffnet-
#  Name               : Diffusion Network
#  Behavior           : Unspecified
#  # of nodes         : 9 (101, 102, 103, 104, 105, 201, 202, 205, ...)
#  # of time periods  : 5 (1 - 5)
#  Type               : directed
#  Final prevalence   : 0.89
#  Static attributes  : id, toa, group, net1, net2, net3, age, gender, not... (9)
#  Dynamic attributes : -</code></pre>
</div>
<div id="example-2-loading-a-static-diffusion-network-via-edgelist_to_diffnet" class="section level3">
<h3>Example 2: Loading a static diffusion network via
<code>edgelist_to_diffnet</code></h3>
<p>Following the previous example, instead of “manually” generating the
adjacency matrix and calling the <code>as_diffnet</code> function, we
will use the <code>edgelist_to_diffnet</code> function. The most
important issue when calling this routine is to have matching ids
between the edgelist and the attributes dataset. So before calling the
<code>edgelist_to_diffnet</code> function we need to fix the
<code>id</code> column in the <code>fakesurvey</code> dataset:<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Before</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>fakesurvey<span class="sc">$</span>id</span></code></pre></div>
<pre><code># [1]  1  2  3  4  5  1  2  5 10</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Changing the id</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>fakesurvey<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">with</span>(fakesurvey, group<span class="sc">*</span><span class="dv">100</span> <span class="sc">+</span> id)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># After</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>fakesurvey<span class="sc">$</span>id</span></code></pre></div>
<pre><code># [1] 101 102 103 104 105 201 202 205 210</code></pre>
<p>Now that it is fixed, we can call the
<code>edgelist_to_diffnet</code> function</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>diffnet2 <span class="ot">&lt;-</span> <span class="fu">edgelist_to_diffnet</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edgelist =</span> fakeEdgelist[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="co"># Passed to edgelist_to_adjmat</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">w        =</span> fakeEdgelist<span class="sc">$</span>value, <span class="co"># Passed to edgelist_to_adjmat</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">dat      =</span> fakesurvey,        <span class="co"># Data frame with -idvar- and -toavar-</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">idvar    =</span> <span class="st">&quot;id&quot;</span>,              <span class="co"># Name of the -idvar- in -dat-</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">toavar   =</span> <span class="st">&quot;toa&quot;</span>,             <span class="co"># Name of the -toavar- in -dat-</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">keep.isolates =</span> <span class="cn">TRUE</span>          <span class="co"># Passed to edgelist_to_adjmat   </span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code># Warning in check_var_class_and_coerce(x, edgelist, c(&quot;factor&quot;, &quot;integer&quot;, :
# Coercing -ego- into character.</code></pre>
<pre><code># Warning in check_var_class_and_coerce(x, edgelist, c(&quot;factor&quot;, &quot;integer&quot;, :
# Coercing -alter- into character.</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>diffnet2</span></code></pre></div>
<pre><code># Dynamic network of class -diffnet-
#  Name               : Diffusion Network
#  Behavior           : Unspecified
#  # of nodes         : 9 (101, 102, 103, 104, 105, 201, 202, 205, ...)
#  # of time periods  : 5 (1 - 5)
#  Type               : directed
#  Final prevalence   : 0.89
#  Static attributes  : group, net1, net2, net3, age, gender, note (7)
#  Dynamic attributes : -</code></pre>
<p>As a difference with the previous example, here the algorithm makes
sure that the ordering of the dataset and the vertices in the adjacency
matrix coincide. The previous example did gave us a correctly sorted
<code>diffnet</code> object, but that may not always be the case.
Nevertheless, the option <code>id.and.per.vars</code> allows the user
providing with the names of the variables in the vertex attribute
datasets that hold the ids and time period ids of each observation, so
that the function sorts the data before coercing it into diffnet
objects. More on this in the following examples.</p>
</div>
</div>
<div id="survey-data-nomination-networks" class="section level2">
<h2>Survey data: Nomination networks</h2>
<ul>
<li>In this part we review the function
<code>survey_to_diffnet</code></li>
<li>This function can use as input either a longitudinal dataset (which
should be in long format, this is, one row per individual and time
period), or a cross sectional dataset.</li>
<li>For this example we will use both <code>fakesurvey</code>, which
holds cross section data, and <code>fakesurveyDyn</code>, which holds
longitudinal data.</li>
</ul>
<div id="example-3-cross-section-diffusion-data" class="section level3">
<h3>Example 3: Cross section diffusion data</h3>
<p>We start by taking a look at the data</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading the data</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;fakesurvey&quot;</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>fakesurvey</span></code></pre></div>
<pre><code>#   id toa group net1 net2 net3 age gender                                   note
# 1  1   1     1   NA   NA   NA  30      M                         No nominations
# 2  2   5     1    3    1   NA  35      F                          Nothing weird
# 3  3   5     1   NA    2   NA  31      F                 Only nominates in net2
# 4  4   3     1    6    5   NA  30      M Nominates someone who wasn&#39;t interview
# 5  5   2     1    4    4    3  40      F                  Nominates 4 two times
# 6  1   4     2    3    4    8  29      F               Only nominates outsiders
# 7  2   3     2    3   NA   NA  35      M                               Isolated
# 8  5   3     2   10    1   NA  50      M                          Nothing weird
# 9 10  NA     2    5    1   NA  19      F                            Non-adopter</code></pre>
<p>A couple of important remarks for this dataset. First, each
individual in this dataset belongs to a different group, while this is
not always the case, <code>survey_to_diffnet</code> allows accounting
for this through the <code>groupvar</code> argument. Also, besides of
having an isolated vertex, two individuals in the survey nominate people
that neither weren’t survey nor show in their groups:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>fakesurvey[<span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">6</span>),]</span></code></pre></div>
<pre><code>#   id toa group net1 net2 net3 age gender                                   note
# 4  4   3     1    6    5   NA  30      M Nominates someone who wasn&#39;t interview
# 6  1   4     2    3    4    8  29      F               Only nominates outsiders</code></pre>
<p>So in group one 4 nominates id 6, who does not show in the data, and
in group two 6 nominates 3, 4, and 8, also individuals who don’t show up
in the survey.</p>
<p>While for some researchers nominations of unsurveyed individuals may
not be of importance, for some others might be. For such cases, the
function has the option of either keeping unsurveyed individuals (so you
would get a bigger adjacency matrix), or ignore them and keep only those
who were surveyed. For example, if we wanted to keep unsurveyed
individuals in the network we would need to set
<code>no.unsurveyed = FALSE</code>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coercing the survey data into a diffnet object</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>diffnet_w_unsurveyed <span class="ot">&lt;-</span> <span class="fu">survey_to_diffnet</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dat      =</span> fakesurvey,                <span class="co"># The dataset</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">idvar    =</span> <span class="st">&quot;id&quot;</span>,                      <span class="co"># Name of the idvar (must be integer)</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">netvars  =</span> <span class="fu">c</span>(<span class="st">&quot;net1&quot;</span>, <span class="st">&quot;net2&quot;</span>, <span class="st">&quot;net3&quot;</span>), <span class="co"># Vector of names of nomination vars</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">toavar   =</span> <span class="st">&quot;toa&quot;</span>,                     <span class="co"># Name of the time of adoption var</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">groupvar =</span> <span class="st">&quot;group&quot;</span>,                   <span class="co"># Name of the group var (OPTIONAL)</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">no.unsurveyed =</span> <span class="cn">FALSE</span>                 <span class="co"># KEEP OR NOT UNSURVEYED</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>diffnet_w_unsurveyed</span></code></pre></div>
<pre><code># Dynamic network of class -diffnet-
#  Name               : Diffusion Network
#  Behavior           : Unspecified
#  # of nodes         : 13 (101, 102, 103, 104, 105, 106, 201, 202, ...)
#  # of time periods  : 5 (1 - 5)
#  Type               : directed
#  Final prevalence   : 0.62
#  Static attributes  : group, net1, net2, net3, age, gender, note (7)
#  Dynamic attributes : -</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieving nodes ids</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nodes</span>(diffnet_w_unsurveyed)</span></code></pre></div>
<pre><code>#  [1] &quot;101&quot; &quot;102&quot; &quot;103&quot; &quot;104&quot; &quot;105&quot; &quot;106&quot; &quot;201&quot; &quot;202&quot; &quot;203&quot; &quot;204&quot; &quot;205&quot; &quot;208&quot;
# [13] &quot;210&quot;</code></pre>
<p>A network spanning 5 time periods with 13 vertices (9 surveyed
individuals + 4 unsurveyed individuals). This produces a different
result when compared to the case in which me use the default behavior of
the function, <code>no.unsurveyed = TRUE</code>:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coercing the survey data into a diffnet object</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>diffnet_wo_unsurveyed <span class="ot">&lt;-</span> <span class="fu">survey_to_diffnet</span>(</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dat      =</span> fakesurvey,                <span class="co"># The dataset</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">idvar    =</span> <span class="st">&quot;id&quot;</span>,                      <span class="co"># Name of the idvar (must be integer)</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">netvars  =</span> <span class="fu">c</span>(<span class="st">&quot;net1&quot;</span>, <span class="st">&quot;net2&quot;</span>, <span class="st">&quot;net3&quot;</span>), <span class="co"># Vector of names of nomination vars</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">toavar   =</span> <span class="st">&quot;toa&quot;</span>,                     <span class="co"># Name of the time of adoption var</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">groupvar =</span> <span class="st">&quot;group&quot;</span>                    <span class="co"># Name of the group var (OPTIONAL)</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>diffnet_wo_unsurveyed</span></code></pre></div>
<pre><code># Dynamic network of class -diffnet-
#  Name               : Diffusion Network
#  Behavior           : Unspecified
#  # of nodes         : 9 (101, 102, 103, 104, 105, 201, 202, 205, ...)
#  # of time periods  : 5 (1 - 5)
#  Type               : directed
#  Final prevalence   : 0.89
#  Static attributes  : group, net1, net2, net3, age, gender, note (7)
#  Dynamic attributes : -</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieving nodes ids</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nodes</span>(diffnet_wo_unsurveyed)</span></code></pre></div>
<pre><code># [1] &quot;101&quot; &quot;102&quot; &quot;103&quot; &quot;104&quot; &quot;105&quot; &quot;201&quot; &quot;202&quot; &quot;205&quot; &quot;210&quot;</code></pre>
<p>Furthermore, we can compare the two diffusion networks by sustracting
one from another:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>difference <span class="ot">&lt;-</span> diffnet_w_unsurveyed <span class="sc">-</span> diffnet_wo_unsurveyed</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>difference</span></code></pre></div>
<pre><code># Dynamic network of class -diffnet-
#  Name               : Diffusion Network
#  Behavior           : Unspecified
#  # of nodes         : 4 (106, 203, 204, 208)
#  # of time periods  : 5 (1 - 5)
#  Type               : directed
#  Final prevalence   : 0.00
#  Static attributes  : group, net1, net2, net3, age, gender, note (7)
#  Dynamic attributes : -</code></pre>
</div>
<div id="example-4-longitudinal-diffusion-data" class="section level3">
<h3>Example 4: Longitudinal diffusion data</h3>
<p>In this example we will use dynamic network data, this is, an
edgelist with spells and dynamic attributes</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Taking a look at the data</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;fakeDynEdgelist&quot;</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fakeDynEdgelist)</span></code></pre></div>
<pre><code>#   ego alter value time
# 1 102   101     1 1990
# 2 103   102     1 1990
# 3 102   103     1 1990
# 4 105   103     1 1990
# 5 105   104     2 1990
# 6 104   105     1 1990</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;fakesurveyDyn&quot;</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fakesurveyDyn)</span></code></pre></div>
<pre><code>#   id  toa group net1 net2 net3 age gender
# 1  1 1991     1   NA   NA   NA  30      M
# 2  2 1990     1    3    1   NA  35      F
# 3  3 1991     1   NA    2   NA  31      F
# 4  4 1990     1    6    5   NA  30      M
# 5  5 1991     1    4    4    3  40      F
# 6  1 1991     2    3    4    8  29      F
#                                                 note time
# 1                         First wave: No nominations 1990
# 2                          First wave: Nothing weird 1990
# 3                 First wave: Only nominates in net2 1990
# 4 First wave: Nominates someone who wasn&#39;t interview 1990
# 5                  First wave: Nominates 4 two times 1990
# 6               First wave: Only nominates outsiders 1990</code></pre>
<p>Same as before, we have to make sure the ids are right</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fixing ids</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>fakesurveyDyn<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">with</span>(fakesurveyDyn, group<span class="sc">*</span><span class="dv">100</span> <span class="sc">+</span> id)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># An individual who is alone</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>fakeDynEdgelist[<span class="dv">11</span>,<span class="st">&quot;value&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>diffnet <span class="ot">&lt;-</span> <span class="fu">edgelist_to_diffnet</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edgelist =</span> fakeDynEdgelist[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="co"># As usual, a two column dataset</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">w        =</span> fakeDynEdgelist<span class="sc">$</span>value, <span class="co"># Here we are using weights</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">t0       =</span> fakeDynEdgelist<span class="sc">$</span>time,  <span class="co"># An integer vector with starting point of spell</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">t1       =</span> fakeDynEdgelist<span class="sc">$</span>time,  <span class="co"># An integer vector with the endpoint of spell</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">dat      =</span> fakesurveyDyn,         <span class="co"># Attributes dataset</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">idvar    =</span> <span class="st">&quot;id&quot;</span>,                  </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">toavar   =</span> <span class="st">&quot;toa&quot;</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">timevar  =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">keep.isolates =</span> <span class="cn">TRUE</span>              <span class="co"># Keeping isolates (if there&#39;s any)</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code># Warning in check_var_class_and_coerce(x, dat, c(&quot;numeric&quot;, &quot;integer&quot;),
# &quot;integer&quot;, : Coercing -time- into integer.</code></pre>
<pre><code># Warning in check_var_class_and_coerce(x, edgelist, c(&quot;factor&quot;, &quot;integer&quot;, :
# Coercing -ego- into character.</code></pre>
<pre><code># Warning in check_var_class_and_coerce(x, edgelist, c(&quot;factor&quot;, &quot;integer&quot;, :
# Coercing -alter- into character.</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>diffnet</span></code></pre></div>
<pre><code># Dynamic network of class -diffnet-
#  Name               : Diffusion Network
#  Behavior           : Unspecified
#  # of nodes         : 9 (101, 102, 103, 104, 105, 201, 202, 205, ...)
#  # of time periods  : 2 (1990 - 1991)
#  Type               : directed
#  Final prevalence   : 1.00
#  Static attributes  : -
#  Dynamic attributes : group, net1, net2, net3, age, gender, note (7)</code></pre>
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>While there are other candidates as the
<code>openxlsx</code> package, the <code>readxl</code> package has the
nice feature of correctly processing the encoding of the excel files.
This is specially important if you are dealing with non ASCII or UTF-8
datasets.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Another thing to tell, the matrices stored in
<code>adjmat</code> are of class <code>dgCMatrix</code> from the
<code>Matrix</code> package, these are Column Compressed Stored sparse
matrices and allows saving memory in matrices with many zeros.
<strong>netdiffuseR</strong> routines are based in this class of
matrices. Furthermore, to have an idea of how much memory sparse
matrices save, while a square matrix of size <span class="math inline">\(5e4\times 5e4\)</span> would need close to 18GB of
memory using a regular R <code>matrix</code>, a <code>dgCMatrix</code>
of the same size takes around 6MB.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>The <code>with</code> function allows simplifying data
management in R by allowing to reference columns in a data.frame without
having to call the data.frame itself (see <code>?with</code>).<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
